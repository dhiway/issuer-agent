{
  "info": {
    "_postman_id": "e50691ab-5821-432f-9d29-a6683739d486",
    "name": "Issuer_agent",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "30729753",
    "_collection_link": "https://martian-comet-644842.postman.co/workspace/Team-Workspace~a3adf906-907b-46d4-8e8c-0b7a113d870e/collection/30729753-e50691ab-5821-432f-9d29-a6683739d486?action=share&source=collection_link&creator=30729753"
  },
  "item": [
    {
      "name": "create profile",
      "request": {
        "method": "POST",
        "header": [],
        "url": {
          "raw": "localhost:5106/api/v1/profile/create",
          "host": ["localhost"],
          "port": "5106",
          "path": ["api", "v1", "profile", "create"]
        }
      },
      "response": []
    },
    {
      "name": "get profile",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "localhost:5106/api/v1/profile/3ybGUky9mQgScUaX7HzhXwuZqEZeA39DyzAgqGox2NH9N3ms",
          "host": ["localhost"],
          "port": "5106",
          "path": [
            "api",
            "v1",
            "profile",
            "3ybGUky9mQgScUaX7HzhXwuZqEZeA39DyzAgqGox2NH9N3ms"
          ]
        }
      },
      "response": []
    },
    {
      "name": "redis-stats",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "localhost:5106/api/v1/profile/cache/stats",
          "host": ["localhost"],
          "port": "5106",
          "path": ["api", "v1", "profile", "cache", "stats"]
        }
      },
      "response": []
    },
    {
      "name": "Create Registry",
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"address\": \"3xp6Q9eFSn3aePA5dYhiuskk5Z69nHCmzTguSbyw8yE5C52W\",\n    \"schema\": {\n        \n    }\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "localhost:5106/api/v1/registry/create",
          "host": ["localhost"],
          "port": "5106",
          "path": ["api", "v1", "registry", "create"]
        }
      },
      "response": []
    },
    {
      "name": "get registry",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": ""
        },
        "url": {
          "raw": "localhost:5106/api/v1/registry/3xMmUftwiwZMtxwjStuekLDBo7CgmkaYbrL2AZPTtMr7E9Ek",
          "host": ["localhost"],
          "port": "5106",
          "path": [
            "api",
            "v1",
            "registry",
            "3xMmUftwiwZMtxwjStuekLDBo7CgmkaYbrL2AZPTtMr7E9Ek"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Issue VC",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "console.log(pm.response)",
              "let jsonData = pm.response.json();",
              "console.log(\"jsonData\",jsonData)",
              "pm.collectionVariables.set(\"identifier\", jsonData.identifier);"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "fb5fbd27fecf0ad32398b0e6b2a60853653bdc0d0c576ec976960a14882e9328",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"schema\": {\n        \"title\": \"new_test_schema\",\n        \"description\": \"new_test_schema\",\n        \"properties\": {\n            \"name\":{\n                \"type\":\"string\"\n            },\n            \"email\": {\n                \"type\": \"string\"\n            }\n        },\n        \"required\": [\n              \"name\",\n              \"email\"\n            ]\n    },\n  \"properties\": {\n      \"name\": \"redbull\",\n      \"email\": \"demo22@gmail.com\"\n  },\n   \"address\": \"3x9aAdNbHEopR3ES5p7tNKSNLWqUUhcjV6MGLNhQyf8JVByz\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://localhost:5106/api/v1/cred",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5106",
          "path": ["api", "v1", "cred"]
        }
      },
      "response": []
    },
    {
      "name": "getCred",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://localhost:5106/api/v1/cred/JCfskWmkv842qhM1118gyQ8SgTxB9vfPiC9qasttvC3immmUbUbC",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5106",
          "path": [
            "api",
            "v1",
            "cred",
            "JCfskWmkv842qhM1118gyQ8SgTxB9vfPiC9qasttvC3immmUbUbC"
          ]
        }
      },
      "response": []
    },
    {
      "name": "updateCred",
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"credId\": \"JCfGi36ZHas2WUJPHD1VX6CvYMP8pMvAqrPh5qqkk1kLhmur87Xe\",\n    \"properties\": {\n        \"name\": \"test20\",\n        \"email\": \"test20@dhiway.com\"\n    }\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "localhost:5106/api/v1/cred/update",
          "host": ["localhost"],
          "port": "5106",
          "path": ["api", "v1", "cred", "update"]
        }
      },
      "response": []
    },
    {
      "name": "revokeCred",
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "POST",
        "header": [],
        "url": {
          "raw": "localhost:5106/api/v1/cred/revoke",
          "host": ["localhost"],
          "port": "5106",
          "path": ["api", "v1", "cred", "revoke"]
        }
      },
      "response": []
    },
    {
      "name": "docHash",
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"name\": \"issuer-cord\",\n    \"version\": \"1.0.0\",\n    \"description\": \"\",\n    \"scripts\": {\n        \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n        \"start\": \"nodemon src/index.ts\",\n        \"dev\": \"tsc-watch --skipLibCheck --onSuccess \\\"node ./dist/index.js\\\"\",\n        \"prod\": \"node ./dist/index.js\",\n        \"build\": \"tsc\"\n    },\n    \"author\": \"\",\n    \"license\": \"ISC\",\n    \"dependencies\": {\n        \"@cord.network/sdk\": \"0.9.3-1rc7\",\n        \"@cord.network/vc-export\": \"0.9.3-1rc7\",\n        \"body-parser\": \"^1.20.2\",\n        \"dotenv\": \"^16.0.3\",\n        \"express\": \"^4.18.2\",\n        \"moment\": \"^2.30.1\",\n        \"nodemon\": \"^2.0.21\",\n        \"pg\": \"^8.10.0\",\n        \"reflect-metadata\": \"^0.1.13\",\n        \"swagger-ui-express\": \"^4.6.2\",\n        \"ts-node\": \"^10.9.1\",\n        \"typeorm\": \"^0.2.31\"\n    },\n    \"devDependencies\": {\n        \"@types/express\": \"^4.17.17\",\n        \"@types/node\": \"^20.11.0\",\n        \"@types/swagger-ui-express\": \"^4.1.3\",\n        \"@types/uuid\": \"^9.0.1\",\n        \"typescript\": \"^4.9.2\"\n    }\n}\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "localhost:5106/api/v1/docHash",
          "host": ["localhost"],
          "port": "5106",
          "path": ["api", "v1", "docHash"]
        }
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "exec": [""]
      }
    }
  ],
  "variable": [
    {
      "key": "schemaId",
      "value": "",
      "type": "string"
    },
    {
      "key": "identifier",
      "value": "",
      "type": "string"
    },
    {
      "key": "issuer_agent_base_url",
      "value": "localhost:5106/api/v1",
      "type": "string"
    },
    {
      "key": "issuer_agent_public_url",
      "value": "https://issuer-agent.demo.dhiway.com/api/v1",
      "type": "string"
    }
  ]
}
